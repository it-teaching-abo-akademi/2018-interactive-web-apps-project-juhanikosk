(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(27)},18:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(9),l=a.n(s),c=(a(18),a(20),a(21),a(11)),r=a(12),i=a(1),u=a(2),m=a(4),d=a(3),p=a(5),f=(a(25),function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={values:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"setValue",value:function(e,t){var a=this.state.values;a[e]=t,this.setState({values:a})}},{key:"canSubmit",value:function(){var e=this;return!(Object.keys(this.state.values).length===this.props.inputs.length)||this.props.inputs.some(function(t){return t.validate(e.state.values[t.id])})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal",tabIndex:"-1"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title"},this.props.title),n.a.createElement("button",{type:"button",className:"close",onClick:this.props.close},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},this.props.inputs.map(function(t){return n.a.createElement("input",{key:t.id,onChange:function(a){return e.setValue(t.id,a.target.value)},className:"form-control stock-input",placeholder:t.helpText})})),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.props.onCreate(e.state.values),e.props.close()},disabled:this.canSubmit()},this.props.submitName)))))}}]),t}(o.Component)),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={selected:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props;return n.a.createElement("div",{className:"row stock-row"},n.a.createElement("div",{className:"col"},n.a.createElement("span",null,t.stock.symbol)),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"".concat(t.unitValue?parseFloat(t.unitValue).toFixed(2)+" $":"No value fetched"))),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,t.stock.amount)),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"".concat((t.stock.amount*t.unitValue).toFixed(2)," $"))),n.a.createElement("div",{className:"checkbox col"},n.a.createElement("input",{type:"checkbox",onChange:function(a){return e.setState({selected:!e.state.selected},function(){return t.selectStock(t.stock,e.state.selected)})},value:this.state.selected})))}}]),t}(n.a.Component),v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).API_URL="https://www.alphavantage.co/query",a.API_KEY="RKZX2JYAYBAFV5S6",a.state={showStockCreationModal:!1,unitValues:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.stocks.length&&this.props.stocks.forEach(function(t){e.fetchStockValue(t.symbol)})}},{key:"fetchStockValue",value:function(e){var t=this;fetch(this.API_URL+"?function=GLOBAL_QUOTE&symbol="+e+"&apikey="+this.API_KEY).then(function(a){a.json().then(function(a){if(a["Global Quote"]){var o=t.state.unitValues;o[e]=a["Global Quote"]["05. price"],t.setState({unitValues:o})}})})}},{key:"render",value:function(){var e=this,t=0;return this.props.stocks.forEach(function(a){e.state.unitValues[a.symbol]&&(t+=e.state.unitValues[a.symbol]*a.amount)}),n.a.createElement("div",{className:"portfolio col-sm-12 col-md-6 px-2 mt-2"},n.a.createElement("div",{className:"p-2 border border-dark"},n.a.createElement("button",{className:"btn btn-lightdanger btn-sm delete-button remove-portfolio",onClick:this.props.deletePortfolio},"\xd7"),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",{className:"font-weight-bold mx-2 mb-2"},this.props.name))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("div",{className:"stocks mb-3 mx-1"},n.a.createElement("div",{className:"row stock-header"},n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"Symbol")),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"Unit value")),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"Quantity")),n.a.createElement("div",{className:"col"},n.a.createElement("span",null,"Total value")),n.a.createElement("div",{className:"checkbox col"})),this.props.stocks.map(function(t,a){return n.a.createElement(h,{key:a,stock:t,unitValue:e.state.unitValues[t.symbol],selectStock:function(t,a){return e.props.selectStock(t,e.props.id,a)}})})))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("p",{className:"px-1 m-0 pb-3"},"Total value of the portfolio: ",n.a.createElement("strong",null,t.toFixed(2)," $")))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{className:"btn btn-primary btn-sm mobile-full-width",onClick:function(){return e.setState({showStockCreationModal:!0})}},"Add stock"),n.a.createElement("button",{className:"btn btn-lightdanger btn-sm float-right mobile-full-width",onClick:this.props.deleteSelectedStocks},"Delete stock")))),this.state.showStockCreationModal?n.a.createElement(f,{title:"Create a new stock",inputs:[{id:"symbol",helpText:"Write the symbol of the stock...",validate:function(e){return e.length<1}},{id:"amount",helpText:"Write the amount of shares...",validate:function(e){return isNaN(parseInt(e,10))||parseInt(e,10)<=0}}],close:function(){return e.setState({showStockCreationModal:!1})},onCreate:function(t){e.fetchStockValue(t.symbol),e.props.addStock(t)},submitName:"Add stock"}):null)}}]),t}(o.Component),k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={portfolios:[],showCreationModal:!1,selectedStocks:[]},a.selectStock=function(e,t,o){var n=a.state.selectedStocks;o?n.push({stock:e,portId:t}):n=n.filter(function(t){return t.stock.id!==e.id}),a.setState({selectedStocks:n})},a.deleteSelectedStocks=function(){var e=a.state.portfolios;a.state.selectedStocks.forEach(function(t){e=e.map(function(e){return e.id===t.portId&&(e.stocks=e.stocks.filter(function(e){return e.id!==t.stock.id})),e})}),a.setState({portfolios:e,selectedStocks:[]},localStorage.setItem("data",JSON.stringify(a.state)))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("data");if(e){var t=JSON.parse(e);this.setState(Object(r.a)({},t,{selectedStocks:[]}))}}},{key:"getNewPortolioId",value:function(){var e=0;return this.state.portfolios.forEach(function(t){t.id>=e&&(e=t.id+1)}),e}},{key:"getNewStockId",value:function(e){var t=0;return e.forEach(function(e){e.id>=t&&(t=e.id+1)}),t}},{key:"createNewPortfolio",value:function(e){var t=this,a={name:e.name,id:this.getNewPortolioId(),stocks:[]};this.setState({portfolios:Object(c.a)(this.state.portfolios).concat([a])},function(){return localStorage.setItem("data",JSON.stringify(t.state))})}},{key:"addStockToPortfolio",value:function(e,t){var a=this,o=this.state.portfolios.map(function(o){if(o.id===t){if(o.stocks.filter(function(t){return t.symbol===e.symbol}).length>=50)return alert("Can't add more than 50 unique stocks to a portfolio"),o;e.id=a.getNewStockId(o.stocks),o.stocks.push(e)}return o});this.setState({portfolios:o},function(){return localStorage.setItem("data",JSON.stringify(a.state))})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"app-container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{className:"btn btn-primary mt-2 mx-2 mb-0",onClick:function(){return e.setState({showCreationModal:!0})},disabled:this.state.portfolios.length>=10},"Add new portfolio"))),n.a.createElement("div",{className:"row mx-0"},this.state.portfolios.length?this.state.portfolios.map(function(t,a){return n.a.createElement(v,{key:a,id:t.id,name:t.name,stocks:t.stocks,deletePortfolio:function(){return e.setState({portfolios:e.state.portfolios.filter(function(e){return e.id!==t.id})},function(){return localStorage.setItem("data",JSON.stringify(e.state))})},addStock:function(a){return e.addStockToPortfolio(a,t.id)},selectStock:e.selectStock,deleteSelectedStocks:e.deleteSelectedStocks})}):n.a.createElement("div",{className:"col-12 px-2"},n.a.createElement("p",{className:"mx-1 my-2 text-white"},"No portfolios made"))),this.state.showCreationModal?n.a.createElement(f,{title:"Create a new portfolio",inputs:[{id:"name",helpText:"Write the name of the portfolio...",validate:function(e){return e.length<4}}],close:function(){return e.setState({showCreationModal:!1})},onCreate:function(t){return e.createNewPortfolio(t)},submitName:"Create portfolio"}):null)}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.75f4109a.chunk.js.map